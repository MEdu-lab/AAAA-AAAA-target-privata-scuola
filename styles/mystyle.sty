% mystyle.sty
\ProvidesPackage{mystyle}

% Margini (usa il pacchetto geometry)
\RequirePackage[margin=2.5cm]{geometry}

% Dimensione del font
\renewcommand\normalsize{\fontsize{11}{13}\selectfont}

\usepackage{styles/titlesec}
\titleformat{\section}[block]{\normalfont\Large\bfseries\centering}{\thesection}{1em}{}

\titleformat{\subsection}[block]{\normalfont\Large\bfseries\centering}{}{1em}{}

\titleformat{\subsubsection}
  {\normalfont\normalsize\bfseries\centering}
  {\thesubsubsection}{1em}{}

\RequirePackage{authblk}
\RequirePackage{etoolbox}

\renewcommand\Authfont{\normalsize\bfseries}
\renewcommand\Affilfont{\small\itshape}
\setlength{\affilsep}{1em}

\makeatletter
\pretocmd{\@author}
  {\begin{center}\large\bfseries\gruppo\end{center}\par\vspace{1em}}
  {}{} % Argomenti per successo/fallimento (lasciare vuoti)
\makeatother

% Ridefinizione di maketitle 
\makeatletter
\renewcommand{\@maketitle}{%
  \newpage
  \null
  \vskip 2em%
  \begin{center}%
    {\LARGE \@title \par}%
    \vskip 1.5em%
    \@ifundefined{@subtitle}{}{{\large \@subtitle \par}\vskip 1.5em}%
    \def\temp{\gruppo}%
    \ifx\temp\empty\else{\large\bfseries \gruppo \par}\vskip 1.5em\fi
    \authorlist  % Qui vanno gli autori
    \vskip 1.5em%
    {\large \@date}%
  \end{center}%
  \par
  \vskip 1.5em
}
\providecommand{\subtitle}[1]{\gdef\@subtitle{#1}}
\makeatother
